<!DOCTYPE html>
<html lang="es">

<head>
    <%- include('../partials/head') %>
</head>

<body x-data="{ 
    sidebarOpen: window.innerWidth > 768, 
    darkMode: localStorage.getItem('darkMode') === 'true',
    currentPage: '<%= currentPage %>',
    currentTheme: localStorage.getItem('theme') || 'blue',
    notifications: 5,
    
    themes: {
        blue:   { primary: 'bg-blue-600',   text: 'text-blue-600',   light: 'bg-blue-50',   dark: 'dark:bg-blue-900/20',   border: 'border-blue-200' },
        purple: { primary: 'bg-indigo-600', text: 'text-indigo-600', light: 'bg-indigo-50', dark: 'dark:bg-indigo-900/20', border: 'border-indigo-200' },
        green:  { primary: 'bg-emerald-600',text: 'text-emerald-600',light: 'bg-emerald-50',dark: 'dark:bg-emerald-900/20',border: 'border-emerald-200' },
        orange: { primary: 'bg-orange-500', text: 'text-orange-500', light: 'bg-orange-50', dark: 'dark:bg-orange-900/20', border: 'border-orange-200' },
        rose:   { primary: 'bg-rose-500',   text: 'text-rose-500',   light: 'bg-rose-50',   dark: 'dark:bg-rose-900/20',   border: 'border-rose-200' }
    },

    toggleDarkMode() {
        this.darkMode = !this.darkMode;
        localStorage.setItem('darkMode', this.darkMode);
    },
    setTheme(theme) {
        this.currentTheme = theme;
        localStorage.setItem('theme', theme);
    }
}" :class="darkMode ? 'dark' : ''" class="antialiased theme-transition font-sans" x-cloak
    @resize.window="if(window.innerWidth > 768) sidebarOpen = true">

    <div class="flex h-screen overflow-hidden bg-[#f8fafc] dark:bg-[#0f172a]">

        <%- include('../partials/sidebar') %>

            <div class="flex-1 flex flex-col min-w-0">
                <%- include('../partials/header') %>

                    <main class="flex-1 overflow-y-auto p-8">
                        <%- body %>
                    </main>
            </div>
    </div>
</body>

</html>